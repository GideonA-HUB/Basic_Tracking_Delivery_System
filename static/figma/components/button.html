<!-- Button Component - Converted from React to HTML/CSS/JS -->
<template id="button-template">
  <button class="btn" data-variant="default" data-size="default">
    <slot></slot>
  </button>
</template>

<style>
/* Button Component Styles */
.btn {
  @apply inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50;
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
}

/* Button Variants */
.btn[data-variant="default"] {
  @apply bg-primary text-primary-foreground hover:bg-primary/90;
}

.btn[data-variant="destructive"] {
  @apply bg-destructive text-destructive-foreground hover:bg-destructive/90;
  @apply focus-visible:ring-destructive;
}

.btn[data-variant="outline"] {
  @apply border bg-background text-foreground hover:bg-accent hover:text-accent-foreground;
}

.btn[data-variant="secondary"] {
  @apply bg-secondary text-secondary-foreground hover:bg-secondary/80;
}

.btn[data-variant="ghost"] {
  @apply hover:bg-accent hover:text-accent-foreground;
}

.btn[data-variant="link"] {
  @apply text-primary underline-offset-4 hover:underline;
}

/* Button Sizes */
.btn[data-size="default"] {
  @apply h-9 px-4 py-2;
}

.btn[data-size="sm"] {
  @apply h-8 rounded-md gap-1.5 px-3;
}

.btn[data-size="lg"] {
  @apply h-10 rounded-md px-6;
}

.btn[data-size="icon"] {
  @apply h-9 w-9 rounded-md;
}

/* Button States */
.btn:disabled {
  @apply pointer-events-none opacity-50;
}

.btn:focus-visible {
  @apply outline-none ring-2 ring-ring ring-offset-2;
}

/* Icon spacing */
.btn svg {
  @apply pointer-events-none;
}

.btn svg:not([class*='size-']) {
  @apply size-4;
}

.btn svg {
  @apply shrink-0;
}

/* Loading state */
.btn.loading {
  @apply relative;
}

.btn.loading::after {
  content: '';
  @apply absolute inset-0 rounded-md bg-current opacity-20;
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Hover effects */
.btn:not(:disabled):hover {
  @apply transform scale-105;
}

/* Active state */
.btn:not(:disabled):active {
  @apply transform scale-95;
}

/* Custom button styles for specific use cases */
.btn-primary {
  @apply bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg hover:shadow-xl;
}

.btn-secondary {
  @apply bg-gradient-to-r from-gray-600 to-gray-700 text-white shadow-lg hover:shadow-xl;
}

.btn-success {
  @apply bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg hover:shadow-xl;
}

.btn-warning {
  @apply bg-gradient-to-r from-yellow-600 to-yellow-700 text-white shadow-lg hover:shadow-xl;
}

.btn-danger {
  @apply bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg hover:shadow-xl;
}

/* Button groups */
.btn-group {
  @apply inline-flex;
}

.btn-group .btn {
  @apply rounded-none border-r-0;
}

.btn-group .btn:first-child {
  @apply rounded-l-md;
}

.btn-group .btn:last-child {
  @apply rounded-r-md border-r;
}

/* Responsive button sizes */
@media (max-width: 640px) {
  .btn[data-size="lg"] {
    @apply h-9 px-4 text-sm;
  }
  
  .btn[data-size="default"] {
    @apply h-8 px-3 text-xs;
  }
}
</style>

<script>
/**
 * Button Component JavaScript
 * Handles button interactions and state management
 */
class ButtonComponent {
  constructor(element) {
    this.element = element;
    this.init();
  }
  
  init() {
    this.setupEventListeners();
    this.setupAccessibility();
  }
  
  setupEventListeners() {
    // Click handler
    this.element.addEventListener('click', (e) => {
      if (this.element.disabled) {
        e.preventDefault();
        return;
      }
      
      // Trigger custom event
      this.element.dispatchEvent(new CustomEvent('button:click', {
        detail: { element: this.element },
        bubbles: true
      }));
    });
    
    // Keyboard navigation
    this.element.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        this.element.click();
      }
    });
  }
  
  setupAccessibility() {
    // Ensure proper ARIA attributes
    if (!this.element.hasAttribute('role')) {
      this.element.setAttribute('role', 'button');
    }
    
    if (!this.element.hasAttribute('tabindex') && !this.element.disabled) {
      this.element.setAttribute('tabindex', '0');
    }
  }
  
  // Public methods
  setLoading(loading) {
    if (loading) {
      this.element.classList.add('loading');
      this.element.disabled = true;
    } else {
      this.element.classList.remove('loading');
      this.element.disabled = false;
    }
  }
  
  setDisabled(disabled) {
    this.element.disabled = disabled;
    if (disabled) {
      this.element.setAttribute('tabindex', '-1');
    } else {
      this.element.setAttribute('tabindex', '0');
    }
  }
  
  setVariant(variant) {
    this.element.setAttribute('data-variant', variant);
  }
  
  setSize(size) {
    this.element.setAttribute('data-size', size);
  }
}

// Auto-initialize buttons
document.addEventListener('DOMContentLoaded', () => {
  const buttons = document.querySelectorAll('.btn');
  buttons.forEach(button => {
    new ButtonComponent(button);
  });
});

// Export for manual initialization
window.ButtonComponent = ButtonComponent;
</script>
