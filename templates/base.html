<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Delivery Tracker{% endblock %}</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#1e40af',
                        secondary: '#64748b'
                    }
                }
            }
        }
    </script>
    
    <!-- Custom CSS -->
    <style>
        .status-pending { @apply bg-yellow-100 text-yellow-800; }
        .status-confirmed { @apply bg-blue-100 text-blue-800; }
        .status-in_transit { @apply bg-purple-100 text-purple-800; }
        .status-out_for_delivery { @apply bg-orange-100 text-orange-800; }
        .status-delivered { @apply bg-green-100 text-green-800; }
        .status-failed { @apply bg-red-100 text-red-800; }
        .status-returned { @apply bg-gray-100 text-gray-800; }
        
        /* Dark theme status styles */
        .dark .status-pending { @apply bg-yellow-900 text-yellow-200; }
        .dark .status-confirmed { @apply bg-blue-900 text-blue-200; }
        .dark .status-in_transit { @apply bg-purple-900 text-purple-200; }
        .dark .status-out_for_delivery { @apply bg-orange-900 text-orange-200; }
        .dark .status-delivered { @apply bg-green-900 text-green-200; }
        .dark .status-failed { @apply bg-red-900 text-red-200; }
        .dark .status-returned { @apply bg-gray-900 text-gray-200; }
        
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
        
        /* Dark theme custom styles */
        .dark .bg-gradient-to-br {
            background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
        }
        .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .border-gray-200 {
            border-color: #374151;
        }
        .dark .bg-white {
            background-color: #1f2937;
        }
        .dark .bg-gray-50 {
            background-color: #111827;
        }
        .dark .bg-gray-100 {
            background-color: #1f2937;
        }
        .dark .text-gray-600 {
            color: #d1d5db;
        }
        .dark .text-gray-700 {
            color: #e5e7eb;
        }
        .dark .text-gray-900 {
            color: #f9fafb;
        }
        .dark .shadow-lg {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
        }
        .dark .shadow-md {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5);
        }
        .dark .border-gray-300 {
            border-color: #4b5563;
        }
        .dark .bg-blue-50 {
            background-color: #1e3a8a;
        }
        .dark .bg-green-50 {
            background-color: #064e3b;
        }
        .dark .bg-yellow-50 {
            background-color: #78350f;
        }
        .dark .bg-red-50 {
            background-color: #7f1d1d;
        }
        .dark .bg-gray-200 {
            background-color: #374151;
        }
        .dark .bg-gray-300 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-100:hover {
            background-color: #374151;
        }
        .dark .hover\:bg-gray-200:hover {
            background-color: #4b5563;
        }
        .dark .hover\:bg-blue-700:hover {
            background-color: #1d4ed8;
        }
        .dark .hover\:bg-gray-700:hover {
            background-color: #4b5563;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #4b5563;
        }
        .dark .focus\:ring-blue-500:focus {
            --tw-ring-color: #3b82f6;
        }
        .dark .focus\:border-blue-500:focus {
            border-color: #3b82f6;
        }
        .dark .divide-gray-200 > * + * {
            border-color: #374151;
        }
        .dark .border-gray-700 {
            border-color: #4b5563;
        }
        .dark .text-gray-400 {
            color: #9ca3af;
        }
        .dark .bg-gray-800 {
            background-color: #1f2937;
        }
        .dark .bg-gray-900 {
            background-color: #111827;
        }
        .dark .text-gray-300 {
            color: #d1d5db;
        }
        .dark .text-gray-500 {
            color: #9ca3af;
        }
        .dark .bg-blue-600 {
            background-color: #2563eb;
        }
        .dark .bg-gray-600 {
            background-color: #4b5563;
        }
        .dark .hover\:bg-blue-700:hover {
            background-color: #1d4ed8;
        }
        .dark .hover\:bg-gray-700:hover {
            background-color: #374151;
        }
        .dark .bg-blue-500 {
            background-color: #3b82f6;
        }
        .dark .bg-green-500 {
            background-color: #10b981;
        }
        .dark .bg-yellow-500 {
            background-color: #f59e0b;
        }
        .dark .bg-red-500 {
            background-color: #ef4444;
        }
        .dark .bg-purple-500 {
            background-color: #8b5cf6;
        }
        .dark .bg-indigo-500 {
            background-color: #6366f1;
        }
        .dark .bg-pink-500 {
            background-color: #ec4899;
        }
        .dark .bg-orange-500 {
            background-color: #f97316;
        }
        .dark .bg-teal-500 {
            background-color: #14b8a6;
        }
        .dark .bg-cyan-500 {
            background-color: #06b6d4;
        }
        .dark .bg-emerald-500 {
            background-color: #10b981;
        }
        .dark .bg-lime-500 {
            background-color: #84cc16;
        }
        .dark .bg-amber-500 {
            background-color: #f59e0b;
        }
        .dark .bg-rose-500 {
            background-color: #f43f5e;
        }
        .dark .bg-sky-500 {
            background-color: #0ea5e9;
        }
        .dark .bg-violet-500 {
            background-color: #8b5cf6;
        }
        .dark .bg-fuchsia-500 {
            background-color: #d946ef;
        }
        .dark .bg-slate-500 {
            background-color: #64748b;
        }
        .dark .bg-zinc-500 {
            background-color: #71717a;
        }
        .dark .bg-neutral-500 {
            background-color: #737373;
        }
        .dark .bg-stone-500 {
            background-color: #78716c;
        }
        .dark .bg-red-600 {
            background-color: #dc2626;
        }
        .dark .bg-green-600 {
            background-color: #059669;
        }
        .dark .bg-yellow-600 {
            background-color: #d97706;
        }
        .dark .bg-blue-600 {
            background-color: #2563eb;
        }
        .dark .bg-purple-600 {
            background-color: #7c3aed;
        }
        .dark .bg-indigo-600 {
            background-color: #4f46e5;
        }
        .dark .bg-pink-600 {
            background-color: #db2777;
        }
        .dark .bg-orange-600 {
            background-color: #ea580c;
        }
        .dark .bg-teal-600 {
            background-color: #0d9488;
        }
        .dark .bg-cyan-600 {
            background-color: #0891b2;
        }
        .dark .bg-emerald-600 {
            background-color: #059669;
        }
        .dark .bg-lime-600 {
            background-color: #65a30d;
        }
        .dark .bg-amber-600 {
            background-color: #d97706;
        }
        .dark .bg-rose-600 {
            background-color: #e11d48;
        }
        .dark .bg-sky-600 {
            background-color: #0284c7;
        }
        .dark .bg-violet-600 {
            background-color: #7c3aed;
        }
        .dark .bg-fuchsia-600 {
            background-color: #c026d3;
        }
        .dark .bg-slate-600 {
            background-color: #475569;
        }
        .dark .bg-zinc-600 {
            background-color: #52525b;
        }
        .dark .bg-neutral-600 {
            background-color: #525252;
        }
        .dark .bg-stone-600 {
            background-color: #57534e;
        }
        
        /* Additional dark theme fixes for better visibility */
        .dark .text-gray-800 {
            color: #f3f4f6 !important;
        }
        .dark .text-gray-700 {
            color: #e5e7eb !important;
        }
        .dark .text-gray-600 {
            color: #d1d5db !important;
        }
        .dark .text-gray-500 {
            color: #9ca3af !important;
        }
        .dark .text-gray-400 {
            color: #9ca3af !important;
        }
        .dark .text-gray-300 {
            color: #d1d5db !important;
        }
        .dark .text-gray-200 {
            color: #e5e7eb !important;
        }
        .dark .text-gray-100 {
            color: #f3f4f6 !important;
        }
        .dark .text-gray-900 {
            color: #f9fafb !important;
        }
        
        /* Dark theme status badge improvements */
        .dark .status-pending {
            background-color: #92400e !important;
            color: #fef3c7 !important;
            border: 1px solid #f59e0b !important;
        }
        .dark .status-confirmed {
            background-color: #1e40af !important;
            color: #dbeafe !important;
            border: 1px solid #3b82f6 !important;
        }
        .dark .status-in_transit {
            background-color: #581c87 !important;
            color: #e9d5ff !important;
            border: 1px solid #8b5cf6 !important;
        }
        .dark .status-out_for_delivery {
            background-color: #9a3412 !important;
            color: #fed7aa !important;
            border: 1px solid #f97316 !important;
        }
        .dark .status-delivered {
            background-color: #065f46 !important;
            color: #d1fae5 !important;
            border: 1px solid #10b981 !important;
        }
        .dark .status-failed {
            background-color: #991b1b !important;
            color: #fecaca !important;
            border: 1px solid #ef4444 !important;
        }
        .dark .status-returned {
            background-color: #374151 !important;
            color: #d1d5db !important;
            border: 1px solid #6b7280 !important;
        }
        
        /* Dark theme card and container improvements */
        .dark .bg-white {
            background-color: #1f2937 !important;
        }
        .dark .bg-gray-50 {
            background-color: #111827 !important;
        }
        .dark .bg-gray-100 {
            background-color: #1f2937 !important;
        }
        .dark .bg-gray-200 {
            background-color: #374151 !important;
        }
        .dark .bg-gray-300 {
            background-color: #4b5563 !important;
        }
        
        /* Dark theme border improvements */
        .dark .border-gray-200 {
            border-color: #374151 !important;
        }
        .dark .border-gray-300 {
            border-color: #4b5563 !important;
        }
        .dark .border-gray-400 {
            border-color: #6b7280 !important;
        }
        .dark .border-gray-500 {
            border-color: #6b7280 !important;
        }
        
        /* Dark theme shadow improvements */
        .dark .shadow-sm {
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.5) !important;
        }
        .dark .shadow {
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.5), 0 1px 2px 0 rgba(0, 0, 0, 0.5) !important;
        }
        .dark .shadow-md {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -1px rgba(0, 0, 0, 0.5) !important;
        }
        .dark .shadow-lg {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(0, 0, 0, 0.5) !important;
        }
        .dark .shadow-xl {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.5) !important;
        }
        
        /* Dark theme hover improvements */
        .dark .hover\:bg-gray-50:hover {
            background-color: #111827 !important;
        }
        .dark .hover\:bg-gray-100:hover {
            background-color: #1f2937 !important;
        }
        .dark .hover\:bg-gray-200:hover {
            background-color: #374151 !important;
        }
        .dark .hover\:bg-gray-300:hover {
            background-color: #4b5563 !important;
        }
        .dark .hover\:bg-gray-400:hover {
            background-color: #6b7280 !important;
        }
        .dark .hover\:bg-gray-500:hover {
            background-color: #6b7280 !important;
        }
        .dark .hover\:bg-gray-600:hover {
            background-color: #4b5563 !important;
        }
        .dark .hover\:bg-gray-700:hover {
            background-color: #374151 !important;
        }
        .dark .hover\:bg-gray-800:hover {
            background-color: #1f2937 !important;
        }
        .dark .hover\:bg-gray-900:hover {
            background-color: #111827 !important;
        }
    </style>
    
    {% block extra_head %}{% endblock %}
</head>
<body class="bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-300">
    <!-- Navigation -->
    <nav class="bg-white dark:bg-gray-800 shadow-lg transition-colors duration-300 fixed top-0 left-0 right-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <!-- MAL Logo -->
                    <div class="flex-shrink-0 flex items-center">
                        {% if user.is_authenticated %}
                            {% if user.is_staff %}
                                <a href="{% url 'frontend:dashboard' %}" class="flex items-center space-x-3 hover:opacity-80 transition-opacity duration-200">
                            {% else %}
                                <a href="{% url 'frontend:landing_page' %}" class="flex items-center space-x-3 hover:opacity-80 transition-opacity duration-200">
                            {% endif %}
                        {% else %}
                            <a href="{% url 'frontend:landing_page' %}" class="flex items-center space-x-3 hover:opacity-80 transition-opacity duration-200">
                        {% endif %}
                            <div class="bg-blue-600 text-white font-bold text-2xl px-3 py-2 rounded-lg shadow-md">
                                M
                            </div>
                            <div class="hidden sm:block">
                                <span class="text-gray-900 dark:text-white font-semibold text-lg">Meridian Asset Logistics</span>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="flex items-center space-x-6">
                    <!-- Navigation Links -->
                    <a href="#investment-dashboard-section" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        Services
                    </a>
                    <a href="#about" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        About
                    </a>
                    <a href="#contact-section" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        Contact
                    </a>
                    
                    <!-- Dark Mode Toggle -->
                    <button id="theme-toggle" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 p-2 rounded-md transition-colors">
                        <i id="theme-icon" class="fas fa-moon"></i>
                    </button>
                    
                    {% if user.is_authenticated %}
                        {% if user.is_staff %}
                            <!-- Staff Navigation -->
                            <a href="{% url 'frontend:dashboard' %}" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-2 rounded-md text-sm font-medium">
                                Dashboard
                            </a>
                            <a href="{% url 'investments:investment-marketplace' %}" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-2 rounded-md text-sm font-medium">
                                Investments
                            </a>
                            <div class="relative group">
                                <button class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-2 rounded-md text-sm font-medium flex items-center">
                                    {{ user.get_full_name|default:user.username }}
                                    <i class="fas fa-chevron-down ml-1 text-xs"></i>
                                </button>
                                <div class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-md shadow-lg py-1 z-50 hidden group-hover:block">
                                    <a href="{% url 'accounts:profile' %}" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600">
                                        Profile
                                    </a>
                                    <a href="{% url 'accounts:logout' %}" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600">
                                        Sign Out
                                    </a>
                                </div>
                            </div>
                        {% else %}
                            <!-- Customer Navigation -->
                            <a href="{% url 'investments:investment-dashboard' %}" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-2 rounded-md text-sm font-medium">
                                Investment Dashboard
                            </a>
                            <a href="{% url 'investments:user-portfolio' %}" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-2 rounded-md text-sm font-medium">
                                My Portfolio
                            </a>
                            <div class="relative group">
                                <button class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-2 rounded-md text-sm font-medium flex items-center">
                                    {{ user.get_full_name|default:user.username }}
                                    <i class="fas fa-chevron-down ml-1 text-xs"></i>
                                </button>
                                <div class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-md shadow-lg py-1 z-50 hidden group-hover:block">
                                    <a href="{% url 'accounts:customer_profile' %}" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600">
                                        Profile
                                    </a>
                                    <a href="{% url 'accounts:customer_logout' %}" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600">
                                        Sign Out
                                    </a>
                                </div>
                            </div>
                        {% endif %}
                    {% else %}
                        <!-- Guest Navigation -->
                        <a href="{% url 'accounts:customer_login' %}" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                            Login
                        </a>
                        <a href="{% url 'accounts:customer_register' %}" class="bg-blue-600 text-white hover:bg-blue-700 px-4 py-2 rounded-md text-sm font-medium transition-colors">
                            Get Started
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-16">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white mt-8">
        <div class="max-w-6xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
            <!-- Main Footer Content -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-6">
                <!-- Tracking & Shipping -->
                <div>
                    <h3 class="text-sm font-semibold mb-3 text-blue-400">Tracking & Shipping</h3>
                    <ul class="space-y-1.5 text-gray-300">
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Track Package</a></li>
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Shipping Rates</a></li>
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Service Guide</a></li>
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Drop-off Locations</a></li>
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Schedule Pickup</a></li>
                    </ul>
                </div>

                <!-- Help & Support -->
                <div>
                    <h3 class="text-sm font-semibold mb-3 text-blue-400">Help & Support</h3>
                    <ul class="space-y-1.5 text-gray-300">
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Contact Us</a></li>
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Customer Service</a></li>
                        <li><a href="#" class="text-xs hover:text-white transition-colors">FAQs</a></li>
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Claims</a></li>
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Support Center</a></li>
                    </ul>
                </div>

                <!-- Investment Services -->
                <div>
                    <h3 class="text-sm font-semibold mb-3 text-blue-400">Investment Services</h3>
                    <ul class="space-y-1.5 text-gray-300">
                        <li><a href="{% url 'investments:investment-marketplace' %}" class="text-xs hover:text-white transition-colors">Investment Marketplace</a></li>
                        <li><a href="{% url 'investments:investment-marketplace' %}" class="text-xs hover:text-white transition-colors">Portfolio Dashboard</a></li>
                        <li><a href="{% url 'investments:investment-marketplace' %}" class="text-xs hover:text-white transition-colors">Asset Categories</a></li>
                        <li><a href="{% url 'investments:investment-marketplace' %}" class="text-xs hover:text-white transition-colors">Investment Guide</a></li>
                    </ul>
                </div>

                <!-- About -->
                <div>
                    <h3 class="text-sm font-semibold mb-3 text-blue-400">About</h3>
                    <ul class="space-y-1.5 text-gray-300">
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Company Overview</a></li>
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Leadership</a></li>
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Investor Relations</a></li>
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Newsroom</a></li>
                    </ul>
                </div>
            </div>

            <!-- Supply Chain Solutions -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div>
                    <h3 class="text-sm font-semibold mb-3 text-blue-400">Supply Chain Solutions</h3>
                    <ul class="space-y-1.5 text-gray-300">
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Logistics</a></li>
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Warehousing</a></li>
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Distribution</a></li>
                        <li><a href="#" class="text-xs hover:text-white transition-colors">Customs Brokerage</a></li>
                    </ul>
                </div>

                <!-- Global Home -->
                <div>
                    <h3 class="text-sm font-semibold mb-3 text-blue-400">Global Home</h3>
                    <div class="flex flex-wrap gap-2 text-gray-300">
                        <a href="#" class="text-xs hover:text-white transition-colors">United States</a>
                        <span class="text-xs text-gray-500">•</span>
                        <a href="#" class="text-xs hover:text-white transition-colors">Canada</a>
                        <span class="text-xs text-gray-500">•</span>
                        <a href="#" class="text-xs hover:text-white transition-colors">Mexico</a>
                        <span class="text-xs text-gray-500">•</span>
                        <a href="#" class="text-xs hover:text-white transition-colors">UK</a>
                        <span class="text-xs text-gray-500">•</span>
                        <a href="#" class="text-xs hover:text-white transition-colors">Germany</a>
                        <span class="text-xs text-gray-500">•</span>
                        <a href="#" class="text-xs hover:text-white transition-colors">France</a>
                        <span class="text-xs text-gray-500">•</span>
                        <a href="#" class="text-xs hover:text-white transition-colors">Spain</a>
                        <span class="text-xs text-gray-500">•</span>
                        <a href="#" class="text-xs hover:text-white transition-colors">Italy</a>
                        <span class="text-xs text-gray-500">•</span>
                        <a href="#" class="text-xs hover:text-white transition-colors">China</a>
                        <span class="text-xs text-gray-500">•</span>
                        <a href="#" class="text-xs hover:text-white transition-colors">Japan</a>
                    </div>
                </div>
            </div>

            <!-- Legal & Security -->
            <div class="border-t border-gray-700 pt-6 mb-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="text-center md:text-left">
                        <h4 class="text-sm font-semibold mb-2 text-blue-400">Legal</h4>
                        <div class="flex flex-wrap gap-4 text-xs text-gray-300">
                            <a href="#" class="hover:text-white transition-colors">Terms</a>
                            <a href="#" class="hover:text-white transition-colors">Privacy</a>
                            <a href="#" class="hover:text-white transition-colors">Cookies</a>
                        </div>
                    </div>
                    
                    <div class="text-center md:text-left">
                        <h4 class="text-sm font-semibold mb-2 text-blue-400">Security</h4>
                        <div class="flex flex-wrap gap-4 text-xs text-gray-300">
                            <a href="#" class="hover:text-white transition-colors">Fraud Protection</a>
                            <a href="#" class="hover:text-white transition-colors">Security Center</a>
                            <a href="#" class="hover:text-white transition-colors">Report Issues</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Copyright -->
            <div class="border-t border-gray-700 pt-4">
                <div class="text-center text-gray-400 text-xs">
                    <p>&copy; {% now "Y" %} Meridian Asset Logistics. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Live Chat Widget - Replaced with Hiver Widget -->
    <!-- {% include 'chat/chat_widget.html' %} -->
    
    <!-- Hide any old chat widgets that might be cached -->
    <style>
        #chat-widget,
        .chat-widget,
        [id*="chat-widget"],
        [class*="chat-widget"] {
            display: none !important;
        }
        
        /* Ensure only Hiver widget is visible */
        .chatwoot-widget {
            display: block !important;
        }
    </style>
    
    <!-- Remove any old chat widgets from DOM -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Remove any old chat widgets
            const oldChatWidgets = document.querySelectorAll('#chat-widget, .chat-widget, [id*="chat-widget"], [class*="chat-widget"]');
            oldChatWidgets.forEach(widget => {
                if (widget && widget.parentNode) {
                    widget.parentNode.removeChild(widget);
                }
            });
            
            // Remove any old chat icons
            const oldChatIcons = document.querySelectorAll('[class*="fa-comments"], [id*="chat-icon"]');
            oldChatIcons.forEach(icon => {
                if (icon && icon.parentNode && icon.parentNode.id !== 'chatwoot-widget') {
                    icon.parentNode.removeChild(icon);
                }
            });
        });
    </script>
    
    <!-- Navigation Arrow Buttons -->
    <div class="fixed bottom-6 left-6 z-50 flex flex-col space-y-2">
        <!-- Scroll to Top Button -->
        <button id="scrollToTop" class="bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full shadow-lg transition-all duration-300 opacity-0 transform translate-y-4" style="display: none;">
            <i class="fas fa-chevron-up text-lg"></i>
        </button>
        
        <!-- Scroll to Bottom Button -->
        <button id="scrollToBottom" class="bg-gray-600 hover:bg-gray-700 text-white p-3 rounded-full shadow-lg transition-all duration-300">
            <i class="fas fa-chevron-down text-lg"></i>
        </button>
    </div>

    <!-- JavaScript -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    
    <!-- Dark Theme Scripts -->
    <script>
        // Dark theme functionality
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const html = document.documentElement;
        
        // Check for saved theme preference or default to light mode
        const currentTheme = localStorage.getItem('theme') || 'light';
        html.className = currentTheme;
        
        // Update icon based on current theme
        function updateThemeIcon() {
            if (html.className === 'dark') {
                themeIcon.className = 'fas fa-sun text-lg';
            } else {
                themeIcon.className = 'fas fa-moon text-lg';
            }
        }
        
        // Initialize icon
        updateThemeIcon();
        
        // Toggle theme
        themeToggle.addEventListener('click', function() {
            if (html.className === 'dark') {
                html.className = 'light';
                localStorage.setItem('theme', 'light');
            } else {
                html.className = 'dark';
                localStorage.setItem('theme', 'dark');
            }
            updateThemeIcon();
        });
        
        // Check system preference on load
        if (!localStorage.getItem('theme')) {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                html.className = 'dark';
                localStorage.setItem('theme', 'dark');
                updateThemeIcon();
            }
        }
    </script>
    
    <!-- Navigation Scripts -->
    <script>
        // Scroll to Top functionality
        const scrollToTopBtn = document.getElementById('scrollToTop');
        const scrollToBottomBtn = document.getElementById('scrollToBottom');
        
        // Show/hide scroll to top button based on scroll position
        window.addEventListener('scroll', function() {
            if (window.pageYOffset > 300) {
                scrollToTopBtn.style.display = 'block';
                setTimeout(() => {
                    scrollToTopBtn.classList.remove('opacity-0', 'translate-y-4');
                    scrollToTopBtn.classList.add('opacity-100', 'translate-y-0');
                }, 10);
            } else {
                scrollToTopBtn.classList.add('opacity-0', 'translate-y-4');
                setTimeout(() => {
                    scrollToTopBtn.style.display = 'none';
                }, 300);
            }
        });
        
        // Scroll to top when button is clicked
        scrollToTopBtn.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
        
        // Scroll to bottom when button is clicked
        scrollToBottomBtn.addEventListener('click', function() {
            window.scrollTo({
                top: document.body.scrollHeight,
                behavior: 'smooth'
            });
        });
        
        // Add hover effects
        scrollToTopBtn.addEventListener('mouseenter', function() {
            this.style.transform = 'scale(1.1)';
        });
        
        scrollToTopBtn.addEventListener('mouseleave', function() {
            this.style.transform = 'scale(1)';
        });
        
        scrollToBottomBtn.addEventListener('mouseenter', function() {
            this.style.transform = 'scale(1.1)';
        });
        
        scrollToBottomBtn.addEventListener('mouseleave', function() {
            this.style.transform = 'scale(1)';
        });
    </script>
    
    <!-- Copy Crypto Address Function -->
    <script>
        function copyCryptoAddressMain() {
            const address = document.getElementById('crypto-address-main').textContent;
            navigator.clipboard.writeText(address).then(function() {
                // Show success feedback
                const copyButton = event.target.closest('button');
                const originalText = copyButton.innerHTML;
                copyButton.innerHTML = '<i class="fas fa-check mr-1"></i> Copied!';
                copyButton.classList.add('bg-green-600', 'hover:bg-green-700');
                copyButton.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                
                // Reset button after 2 seconds
                setTimeout(function() {
                    copyButton.innerHTML = originalText;
                    copyButton.classList.remove('bg-green-600', 'hover:bg-green-700');
                    copyButton.classList.add('bg-blue-600', 'hover:bg-blue-700');
                }, 2000);
            }).catch(function(err) {
                console.error('Failed to copy: ', err);
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = address;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                // Show success feedback
                const copyButton = event.target.closest('button');
                const originalText = copyButton.innerHTML;
                copyButton.innerHTML = '<i class="fas fa-check mr-1"></i> Copied!';
                copyButton.classList.add('bg-green-600', 'hover:bg-green-700');
                copyButton.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                
                // Reset button after 2 seconds
                setTimeout(function() {
                    copyButton.innerHTML = originalText;
                    copyButton.classList.remove('bg-green-600', 'hover:bg-green-700');
                    copyButton.classList.add('bg-blue-600', 'hover:bg-blue-700');
                }, 2000);
            });
        }
    </script>
    
    {% block extra_js %}{% endblock %}
    
    <!-- User Data for Hiver Chat -->
    <script>
        window.hiverUserData = {
            {% if user.is_authenticated %}
            isAuthenticated: true,
            user: {
                identifier: '{{ user.id }}',
                name: '{{ user.get_full_name|default:user.username|escapejs }}',
                email: '{{ user.email|escapejs }}'
                {% if user.profile.avatar %}
                ,avatar_url: '{{ user.profile.avatar.url|escapejs }}'
                {% endif %}
            }
            {% else %}
            isAuthenticated: false
            {% endif %}
        };
    </script>
    
    <!-- Hiver Live Chat Widget -->
    <script>
        (function(d,t) {
            var BASE_URL="";
            var CDN_URL="https://chat-widget.hiverhq.com/chat-widget";
            var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
            g.src=CDN_URL+"/js/sdk.js";
            g.defer = true;
            g.async = true;
            s.parentNode.insertBefore(g,s);
            g.onload=function(){
                var config = {
                    websiteToken: 'har2BVT4AVuxZnF5QiWP62wb',
                    baseUrl: BASE_URL,
                    hideMessageBubble: false,
                    showPopoutButton: true,
                    position: 'right',
                    locale: 'en'
                };
                
                // Add user data if authenticated
                if (window.hiverUserData && window.hiverUserData.isAuthenticated) {
                    config.user = window.hiverUserData.user;
                }
                
                window.chatwootSDK.run(config);
            }
        })(document,"script");
        
        // Smooth scrolling for anchor links
        document.addEventListener('DOMContentLoaded', function() {
            // About link
            const aboutLink = document.querySelector('a[href="#about"]');
            if (aboutLink) {
                aboutLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    const aboutSection = document.getElementById('about');
                    if (aboutSection) {
                        aboutSection.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            }
            
            // Services link (Investment Dashboard Section)
            const servicesLink = document.querySelector('a[href="#investment-dashboard-section"]');
            if (servicesLink) {
                servicesLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    const servicesSection = document.getElementById('investment-dashboard-section');
                    if (servicesSection) {
                        servicesSection.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            }
            
            // Contact link
            const contactLink = document.querySelector('a[href="#contact-section"]');
            if (contactLink) {
                contactLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    const contactSection = document.getElementById('contact-section');
                    if (contactSection) {
                        contactSection.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            }
            
            // Dark mode toggle functionality
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = document.getElementById('theme-icon');
            const html = document.documentElement;
            
            // Check for saved theme preference or default to 'light'
            const currentTheme = localStorage.getItem('theme') || 'light';
            
            // Apply the current theme
            if (currentTheme === 'dark') {
                html.classList.add('dark');
                themeIcon.className = 'fas fa-sun'; // Show sun icon in dark mode
            } else {
                html.classList.remove('dark');
                themeIcon.className = 'fas fa-moon'; // Show moon icon in light mode
            }
            
            // Toggle theme on button click
            if (themeToggle) {
                themeToggle.addEventListener('click', function() {
                    if (html.classList.contains('dark')) {
                        // Switch to light mode
                        html.classList.remove('dark');
                        themeIcon.className = 'fas fa-moon';
                        localStorage.setItem('theme', 'light');
                    } else {
                        // Switch to dark mode
                        html.classList.add('dark');
                        themeIcon.className = 'fas fa-sun';
                        localStorage.setItem('theme', 'dark');
                    }
                });
            }
        });
    </script>
</body>
</html>
